
## Usage/Examples/Discussions
**CAVEAT: I WILL ONLY BE EXPLAINING HOW TO CREATE THE NAVIGATION DRAWER ITSELF, FOR FRAGMENTS PLEASE REFER TO PREVIOUS LESSON**


**Theme(themes.xml)**\
We could specify an attribute in themes .xml to disable the default toolbar of the application
```xml
<style name="Theme.NavDrawerLesson.NoActionBar">
    <item name="windowActionBar">false</item>
    <item name="windowNoTitle">true</item>
</style>
```
and then specify it on the **Android Manifest file(AndroidManifest.xml)**
```xml
<activity
    android:name=".RegisterActivity"
    android:exported="true"
    android:theme="@style/Theme.NavDrawerLesson.NoActionBar">
    <intent-filter>
        <action android:name="android.intent.action.MAIN" />

        <category android:name="android.intent.category.LAUNCHER" />
    </intent-filter>
</activity>
```

**Navigation (main_navigation.xml)**\
This code is located under app/res/navigation. 
Wherein we set an id for the navigation as well as defining the fragments for the 
application. The **app:startDestination** is the starting point of the navigation. 
You can either use the GUI to add the fragments or use xml code, whichever is fine.
```xml
<?xml version="1.0" encoding="utf-8"?>
<navigation
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/main_navigation"
    app:startDestination="@id/nav_home">

    <fragment
        android:id="@+id/nav_home"
        android:name="com.auf.cea.navdrawerlesson.fragments.MainFragment"
        android:label="Home"
        tools:layout="@layout/fragment_main"
        />
    <fragment
        android:id="@+id/nav_random_quotes"
        android:name="com.auf.cea.navdrawerlesson.fragments.QuotesGeneratorFragment"
        android:label="Random Quotes"
        tools:layout="@layout/fragment_quotes_generator"/>
    <fragment
        android:id="@+id/nav_user_details"
        android:name="com.auf.cea.navdrawerlesson.fragments.UserDetailsFragment"
        android:label="User Details"
        tools:layout="@layout/fragment_user_details"/>

</navigation>
```
**Navigation drawer elements (activity_main_drawer.xml)**\
Located under app/res/menu. This is responsible for creating the menus for our navigation drawer itself.
The **tools:showIn** specifies the type menu this menu xml and the **android:checkableBehavior="single"**
specifies this menu group is a single checkable only.
```xml
<?xml version="1.0" encoding="utf-8"?>
<menu
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    tools:showIn="navigation_view">

    <group android:checkableBehavior="single">
        <item
            android:id="@+id/nav_home"
            android:icon="@drawable/ic_home"
            android:title="Home" />
        <item
            android:id="@+id/nav_user_details"
            android:icon="@drawable/ic_user"
            android:title="User Details" />
        <item
            android:id="@+id/nav_random_quotes"
            android:icon="@drawable/ic_quote"
            android:title="Random quotes generator" />
    </group>

</menu>
```

**ICONS**\
Icons used in this example activity are generated by android studio. To create your own icons
**right click drawable folder -> New -> Vector Assets**. Click on clip art and it will open a new window with the icons. 

**Navigation header layout (nav_header_main.xml)**\
This is the layout for the header navigation containing the image, name of the user and the email address.
noticed that the parent view has a specified **android:layout_height="170dp"** this is to specify the height of the 
header layout for the navigation drawer 
```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="170dp"
    android:background="#009688"
    android:gravity="center_vertical"
    android:orientation="vertical"
    android:padding="20dp">

    <ImageView
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:src="@mipmap/ic_launcher" />

    <TextView
        android:id="@+id/txt_name"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Japhet Lee D. Ong"
        android:textColor="@color/white"
        android:textStyle="bold"/>

    <TextView
        android:id="@+id/txt_email_address"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="japhetlee.dev@gmail.com"
        android:textSize="12sp"
        android:textColor="@color/white"/>

</LinearLayout>
```

**App bar container (app_bar_container.xml)**\
In this XML layout we will create the customer app bar container to be use for our navigation drawer.
In the themes xml file, specify the dark action bar theme.
```xml
<style name="Theme.NavigationDrawerSample.AppBarOverlay" parent="ThemeOverlay.AppCompat.Dark.ActionBar" />
```
We will also need to add another style in our theme for our toolbar.
```xml
 <style name="Theme.NavigationDrawerSample.PopupOverlay" parent="ThemeOverlay.AppCompat.Light" />
```
**AppBarLayout** is a vertical LinearLayout which implements many of the features of material designs app bar concept, namely scrolling gestures.
**Toolbar** is a standard toolbar for use within the application content. In this case we need these two elements in order for use to create our navigation drawer
The **Include** will include the specified xml layout in this layout, this is useful when creating navigation drawers as it seperates the container, the navigation itself and the navigation host fragment for our fragments
```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:orientation="vertical"
    android:layout_height="match_parent">

    <com.google.android.material.appbar.AppBarLayout
        android:id="@+id/appBarLayout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:theme="@style/Theme.NavigationDrawerSample.AppBarOverlay"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent">

        <androidx.appcompat.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="?attr/colorPrimary"
            app:popupTheme="@style/Theme.NavigationDrawerSample.PopupOverlay" />

    </com.google.android.material.appbar.AppBarLayout>

    <include
        layout="@layout/content_home" />

</LinearLayout>
```

**Nav Host fragment (content_home.xml)**\
A Nav host fragment will be hosting our fragments that were created in the **main_navigation.xml**.
In the **app:navGraph** this is where our **main_navigation.xml** will be specified, we will also have to specify that this fragment tag
will host the fragments by applying: **android:name="androidx.navigation.fragment.NavHostFragment"**

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <fragment
        android:id="@+id/nav_host_fragment_content_main"
        android:name="androidx.navigation.fragment.NavHostFragment"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        app:defaultNavHost="true"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:navGraph="@navigation/main_navigation" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

**Activity Home Layout (activity_home.xml)**\
This is where will place everything together to create the navigation drawer and the nav host fragment.
By applying **com.google.android.material.navigation.NavigationView**, we can now specify
the contents of our navigation drawer by using **app:menu="@menu/activity_main_drawer"** which
will use the **activity_main_drawer.xml** under the menus folder as the elements of the navigation drawer.
**app:headerLayout** will define the header of our navigation drawer namely **nav_header_main.xml**.
**android:fitsSystemWindows="true"** is a boolean internal attribute to adjust the view layout on system windows such
as the status bar, if set to true, it adjust the padding of this view to leave space for the system windows.
**tools:openDrawer="start"** will make the navigation drawer open, this can be overridden in code
```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.drawerlayout.widget.DrawerLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".HomeActivity"
    android:fitsSystemWindows="true"
    tools:openDrawer="start"
    android:id="@+id/drawer_layout">

    <include
        android:id="@+id/app_bar_container"
        layout="@layout/app_bar_container"
        android:layout_width="match_parent"
        android:layout_height="match_parent"/>

    <com.google.android.material.navigation.NavigationView
        android:id="@+id/nav_view"
        android:layout_width="wrap_content"
        android:layout_height="match_parent"
        app:headerLayout="@layout/nav_header_main"
        app:menu="@menu/activity_main_drawer"
        android:fitsSystemWindows="true"
        android:layout_gravity="start"/>

</androidx.drawerlayout.widget.DrawerLayout>
```

**HomeActivity.kt**\
On the **oncreate** function of the activity, first we must define the following: **DrawerLayout, NavigationView and NavController,** 
```Kotlin
//Specifying the DrawerLayout in this acitivity
val drawerLayout : DrawerLayout = binding.drawerLayout

//Specifying the navigation controller/navigation host of the activity
navController = findNavController(R.id.nav_host_fragment_content_main)

// Each menu should be considered as top level destinations
appBarConfiguration = AppBarConfiguration(
    setOf(
        R.id.nav_home, R.id.nav_user_details, R.id.nav_random_quotes
    ), drawerLayout
)
//We will now specify how the actionbar will work by passing in the navcontroller
//and the appBarConfiguration to the actionbar
setupActionBarWithNavController(navController,appBarConfiguration)

//Attach the navcontroller to the navigation view
navView.setupWithNavController(navController)

```
